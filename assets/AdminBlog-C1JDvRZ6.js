import{_ as f,r,o as m,c as l,a as t,b as c,d as g,u as _,R as b,F as D,f as k,D as P,i as o,j as p,t as u}from"./index-Ot6YnaKo.js";const A={class:"admin-page-container"},C={class:"page-header"},N={key:0,class:"page-loader-container"},w={key:1,class:"error-message"},B={key:2,class:"posts-table-container"},x={class:"posts-table"},F={"data-label":"Title"},L={"data-label":"Category"},T={"data-label":"Published Date"},$={"data-label":"Actions",class:"actions-cell"},I=["onClick"],S={key:3,class:"no-data-message"},V={__name:"AdminBlog",setup(E){const n=r([]),i=r(!0),d=r(null),y=async()=>{try{i.value=!0,d.value=null,n.value=await P()}catch(s){console.error("Failed to fetch blog posts:",s),d.value=s}finally{i.value=!1}},h=async(s,e)=>{confirm(`Are you sure you want to delete the post "${e}"? This cannot be undone.`)&&alert(`In a real app, this would delete post ID: ${s}. Delete logic is not yet implemented.`)},v=s=>!s||!s.toDate?"Not available":s.toDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return m(y),(s,e)=>(o(),l("div",A,[t("div",C,[e[1]||(e[1]=t("h1",{class:"page-title"},"Manage Blog Posts",-1)),c(_(b),{to:"/admin/blog/new",class:"btn btn-primary"},{default:g(()=>e[0]||(e[0]=[p("Create New Post",-1)])),_:1,__:[0]})]),i.value?(o(),l("div",N,e[2]||(e[2]=[t("div",{class:"spinner"},null,-1)]))):d.value?(o(),l("div",w,e[3]||(e[3]=[t("p",null,"Failed to load blog posts. Please try again later.",-1)]))):n.value.length>0?(o(),l("div",B,[t("table",x,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",null,"Title"),t("th",null,"Category"),t("th",null,"Published Date"),t("th",null,"Actions")])],-1)),t("tbody",null,[(o(!0),l(D,null,k(n.value,a=>(o(),l("tr",{key:a.id},[t("td",F,u(a.title),1),t("td",L,u(a.category||"N/A"),1),t("td",T,u(v(a.publishedAt)),1),t("td",$,[c(_(b),{to:`/admin/blog/edit/${a.id}`,class:"btn-action btn-edit"},{default:g(()=>e[4]||(e[4]=[p("Edit",-1)])),_:2,__:[4]},1032,["to"]),t("button",{onClick:M=>h(a.id,a.title),class:"btn-action btn-delete"}," Delete ",8,I)])]))),128))])])])):(o(),l("div",S,e[6]||(e[6]=[t("p",null,'No blog posts found. Click "Create New Post" to get started.',-1)])))]))}},j=f(V,[["__scopeId","data-v-bb65442d"]]);export{j as default};
