import{_ as M,f as c,g as V,h as H,c as l,d as o,a as e,i as B,j as D,k as _,v as T,F as A,r as P,t as r,u as L,e as h,l as E,m as N,p as R,q as U,o as F,s as W,x as Y,n as O}from"./index-IR6LO8EE.js";import{g as j}from"./courseData-BCTWgU2A.js";const C={btc:{name:"Bitcoin (BTC)",symbol:"BTC",networks:[{name:"Bitcoin Network",value:"bitcoin",address:"bc1qtuhgz4ays8w5l3z3ynj7lk7e5qumn5hv5ga6n5"},{name:"BRC20",value:"brc20",address:"1N6hXVAkAhouaFv6eLvvdSg6pDfH8YAfBk"},{name:"BNB Smart Chain (BEP20)",value:"bnb smart chain",address:"0x73aB257AbD916beCd67a062eD973211335635cb1"}]},eth:{name:"Ethereum (ETH)",symbol:"ETH",networks:[{name:"ERC20",value:"erc20",address:"0xAbc123Def456Ghi789Jkl012Mno345Pqr678Stu901"}]},usdt:{name:"Tether (USDT)",symbol:"USDT",networks:[{name:"ERC20",value:"erc20",address:"0x306381B58Ea94dA4D515E93b3663dE66355Ec943"},{name:"TRC20",value:"trc20",address:"TLWojaboTmaP2m42X7BU7czC6x8bsBwNFR"},{name:"BEP20 (BSC)",value:"bep20",address:"0x73aB257AbD916beCd67a062eD973211335635cb1"}]},bnb:{name:"Binance Coin (BNB)",symbol:"BNB",networks:[{name:"BEP20 (BSC)",value:"bep20",address:"0x306381B58Ea94dA4D515E93b3663dE66355Ec943"}]},sol:{name:"Solana (SOL)",symbol:"SOL",networks:[{name:"Solana",value:"solana",address:"ANSqJCWayckF6bEod2Y74w9WnKj6Nszz6yqFW3Brz4zC"}]},ada:{name:"Cardano (ADA)",symbol:"ADA",networks:[{name:"Cardano",value:"cardano",address:"addr1q99qj445fhv70rlxj6eaw6ld4e74hea92m8v3dapa88znp9wf3hlenhktwe5yflhum9dy47n0hldm078s45pcxxptzpsh0tntm"}]},xrp:{name:"Ripple (XRP)",symbol:"XRP",networks:[{name:"XRP",value:"xrp",address:"rHcFoo6a9qT5NHiVn1THQRhsEGcxtYCV4d",destinationTagRequired:!0,tag:"340798187"}]},pi:{name:"Pi Network (PI)",symbol:"PI",networks:[{name:"PI Network",value:"pi",address:"MBC6NRTTQLRCABQHIR5J4R4YDJWFWRAO4ZRQIM2SVI5GSIZ2HZ42QAAAAAABIUBK5PH24"}]},ice:{name:"Ice Network (ICE)",symbol:"ICE",networks:[{name:"BNB Smart Chain (BEP20)",value:"bnb smart chain",address:"0x73aB257AbD916beCd67a062eD973211335635cb1"}]}},Q={class:"modal-content"},X={key:0},G={key:1,class:"crypto-details-view"},J={class:"form-group"},Z=["value"],K={key:0,class:"form-group"},ee=["value"],te={class:"form-group"},se=["value"],oe={key:0,class:"card wallet-card"},le={id:"wallet-coin-name"},ae={class:"wallet-address-group"},ne=["value"],re={class:"wallet-address-group"},ue=["value"],ie={key:0,class:"wallet-address-group"},de=["value"],ce={class:"wallet-warning"},me={id:"wallet-coin-symbol"},ve={__name:"PaymentModal",props:{course:{type:Object,required:!0}},emits:["close"],setup(x,{emit:S}){const y=x,a=S,m=N(),v=c(!1),k=c("Copy"),w=c(null),p=c("usdt"),i=c(""),s=c(null),f=V(()=>{const u=C[p.value];return u?u.networks:[]});function b(){a("close"),v.value=!1,p.value="usdt",i.value="",s.value=null}function g(){alert("Paystack payment is currently disabled for development. Please use 'Simulated Enrollment'.")}async function $(){const u=E.currentUser;if(!u||!y.course){alert("Authentication error. Please re-login."),m.push("/login");return}try{await R(u.uid,y.course.id,y.course.title,"simulated"),alert("Simulated enrollment successful! You now have access to the course."),m.push("/dashboard"),b()}catch(t){console.error("Simulated enrollment failed:",t),alert("An error occurred during simulated enrollment.")}}function q(){v.value=!0,i.value=f.value[0]?.value||""}async function I(){const u=C[p.value],t=u.networks.find(d=>d.value===i.value);if(!u||!t){alert("Please select a valid cryptocurrency and network.");return}s.value={name:u.name,symbol:u.symbol,address:t.address,networkName:t.name,destinationTagRequired:t.destinationTagRequired||!1,tag:t.tag||""},await U();const n=document.getElementById("wallet-qr-code");n&&(n.innerHTML="",new window.QRCode(n,{text:t.address+(t.destinationTagRequired&&t.tag?`?dt=${t.tag}`:""),width:150,height:150}));try{const d=E.currentUser;if(!d){alert("Authentication error. Please re-login to initiate crypto payment."),m.push("/login"),b();return}await R(d.uid,y.course.id,y.course.title,"crypto")}catch(d){console.error("Failed to create pending crypto enrollment:",d),alert("Could not record crypto payment initiation. Please try again.")}}function z(){w.value&&(w.value.select(),navigator.clipboard.writeText(w.value.value),k.value="Copied!",setTimeout(()=>{k.value="Copy"},2e3))}return H(p,u=>{const t=C[u]?.networks||[];i.value=t[0]?.value||""}),(u,t)=>(o(),l("div",{class:"modal-overlay",onClick:D(b,["self"])},[e("div",Q,[e("button",{onClick:b,class:"close-modal-btn","aria-label":"Close payment options"}," × "),v.value?(o(),l("div",G,[e("a",{href:"#",onClick:t[0]||(t[0]=D(n=>v.value=!1,["prevent"])),class:"back-link"},"← Back to options"),t[21]||(t[21]=e("h2",null,"Pay with Crypto",-1)),t[22]||(t[22]=e("p",{class:"page-description"}," Select your preferred cryptocurrency and network. Your access will be granted after manual confirmation by our team. ",-1)),e("form",{onSubmit:D(I,["prevent"])},[e("div",J,[t[7]||(t[7]=e("label",{for:"crypto-method"},"Cryptocurrency",-1)),_(e("select",{id:"crypto-method","onUpdate:modelValue":t[1]||(t[1]=n=>p.value=n),class:"form-control"},[(o(!0),l(A,null,P(L(C),(n,d)=>(o(),l("option",{key:d,value:d},r(n.name),9,Z))),128))],512),[[T,p.value]])]),f.value.length>0?(o(),l("div",K,[t[8]||(t[8]=e("label",{for:"crypto-network"},"Network",-1)),_(e("select",{id:"crypto-network","onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),class:"form-control"},[(o(!0),l(A,null,P(f.value,n=>(o(),l("option",{key:n.value,value:n.value},r(n.name),9,ee))),128))],512),[[T,i.value]])])):B("",!0),e("div",te,[t[9]||(t[9]=e("label",{for:"crypto-amount"},"Amount (USD equivalent)",-1)),e("input",{type:"text",id:"crypto-amount",value:`$${x.course.price.toFixed(2)}`,readonly:"",class:"form-control"},null,8,se)]),t[10]||(t[10]=e("button",{type:"submit",class:"btn btn-primary form-submit-btn"}," Generate Address ",-1))],32),s.value?(o(),l("div",oe,[t[18]||(t[18]=e("h4",null,"Make Your Deposit",-1)),e("p",null,[t[11]||(t[11]=h(" Scan the QR code or copy the address below to send ",-1)),e("strong",le,r(s.value.name),1),t[12]||(t[12]=h(". ",-1))]),t[19]||(t[19]=e("div",{id:"wallet-qr-code",class:"qr-code-container"},null,-1)),e("div",ae,[t[13]||(t[13]=e("label",null,"Wallet Address",-1)),e("input",{type:"text",value:s.value.address,readonly:"",ref_key:"walletAddressInput",ref:w},null,8,ne),e("button",{onClick:z},r(k.value),1)]),e("div",re,[t[14]||(t[14]=e("label",null,"Network",-1)),e("input",{type:"text",value:s.value.networkName,readonly:""},null,8,ue)]),s.value.destinationTagRequired?(o(),l("div",ie,[t[15]||(t[15]=e("label",null,"Destination Tag",-1)),e("input",{type:"text",value:s.value.tag,readonly:""},null,8,de)])):B("",!0),e("small",ce,[t[16]||(t[16]=h("Please send only ",-1)),e("strong",me,r(s.value.symbol),1),t[17]||(t[17]=h(" to this address. Sending any other coins may result in permanent loss.",-1))]),t[20]||(t[20]=e("p",{class:"crypto-notice"}," After payment, send your transaction hash/ID and your Nexus Academy email to our support team for verification. Access will be granted after manual confirmation. ",-1))])):B("",!0)])):(o(),l("div",X,[t[6]||(t[6]=e("h2",null,"Choose Your Payment Method",-1)),e("div",{class:"payment-option",onClick:g},t[3]||(t[3]=[e("h3",null,"Pay with Card / Bank",-1),e("p",null,"Securely pay with your card or bank account via Paystack.",-1)])),e("div",{class:"payment-option",onClick:q},t[4]||(t[4]=[e("h3",null,"Pay with Crypto",-1),e("p",null," Pay with Bitcoin, USDT, or other cryptos. Manual confirmation required. ",-1)])),e("div",{class:"payment-option simulated",onClick:$},t[5]||(t[5]=[e("h3",null,"Simulated Enrollment (Dev Only)",-1),e("p",null,"Instantly enroll for testing purposes.",-1)]))]))])]))}},pe=M(ve,[["__scopeId","data-v-277ffa7f"]]),ye={class:"course-detail-wrapper"},fe={key:0,id:"course-detail-content"},be={class:"container course-hero"},we={class:"course-category"},ke={class:"container course-layout"},ge={class:"course-main-content"},he={class:"curriculum-accordion"},Ce=["onClick"],Be={class:"lesson-list"},Ae={class:"course-sidebar"},Pe={class:"course-sidebar-card"},xe=["src","alt"],Se={class:"course-price"},De={class:"key-features-list"},Ee={class:"key-feature-item"},_e={class:"key-feature-item"},Te={key:1,class:"page-loader-container"},Re={__name:"CourseDetailView",setup(x){const S=W(),y=N(),a=c(null),m=c([]),v=c(!1);function k(i){const s=m.value.indexOf(i);s===-1?m.value.push(i):m.value.splice(s,1)}function w(){if(!E.currentUser){alert("Please create an account or sign in to enroll."),y.push("/signup");return}v.value=!0}function p(){v.value=!1}return F(()=>{const i=S.params.id;a.value=j(i)}),(i,s)=>(o(),l("div",ye,[a.value?(o(),l("main",fe,[e("header",be,[e("span",we,r(a.value.category),1),e("h1",null,r(a.value.title),1),e("p",null,r(a.value.subtitle),1)]),e("div",ke,[e("div",ge,[s[2]||(s[2]=e("h2",null,"What You'll Learn",-1)),e("p",null,r(a.value.learningOutcomes),1),s[3]||(s[3]=e("br",null,null,-1)),s[4]||(s[4]=e("h2",null,"Course Curriculum",-1)),e("div",he,[(o(!0),l(A,null,P(a.value.modules,(f,b)=>(o(),l("div",{key:f.title,class:O(["curriculum-module",{"is-open":m.value.includes(b)}])},[e("div",{class:"module-header",onClick:g=>k(b)},[e("h3",null,r(f.title),1),s[0]||(s[0]=e("svg",{class:"module-toggle-icon",viewBox:"0 0 24 24"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"})],-1))],8,Ce),e("ul",Be,[(o(!0),l(A,null,P(f.lessons,g=>(o(),l("li",{key:g,class:"lesson-item"},[s[1]||(s[1]=e("span",{class:"lesson-icon"},"✓",-1)),h(" "+r(g),1)]))),128))])],2))),128))])]),e("aside",Ae,[e("div",Pe,[e("img",{src:a.value.imageUrl,alt:a.value.title,class:"course-card-image"},null,8,xe),e("div",Se,"$"+r(a.value.price),1),e("button",{onClick:w,class:"btn btn-primary"}," Enroll Now "),e("ul",De,[e("li",Ee,[s[5]||(s[5]=e("svg",{viewBox:"0 0 24 24"},[e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),e("span",null,r(a.value.level)+" Level",1)]),e("li",_e,[s[6]||(s[6]=e("svg",{viewBox:"0 0 24 24"},[e("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})],-1)),e("span",null,"Approx. "+r(a.value.duration),1)]),s[7]||(s[7]=e("li",{class:"key-feature-item"},[e("svg",{viewBox:"0 0 24 24"},[e("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})]),e("span",null,"Self-Paced Learning")],-1))])])])])])):(o(),l("div",Te,s[8]||(s[8]=[e("div",{class:"spinner"},null,-1)]))),v.value&&a.value?(o(),Y(pe,{key:2,course:a.value,onClose:p},null,8,["course"])):B("",!0)]))}},$e=M(Re,[["__scopeId","data-v-9e565708"]]);export{$e as default};
